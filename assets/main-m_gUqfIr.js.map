{"version":3,"file":"main-m_gUqfIr.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    lucide.createIcons();\n\n    const lenis = new Lenis({ duration: 1.2, smoothWheel: true });\n    function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }\n    requestAnimationFrame(raf);\n\n    gsap.registerPlugin(ScrollTrigger);\n\n    // --- МОБИЛЬНОЕ МЕНЮ ---\n    const burger = document.getElementById('burger-menu');\n    const nav = document.getElementById('nav-menu');\n    const navLinks = document.querySelectorAll('.nav__link');\n\n    if (burger) {\n        burger.addEventListener('click', () => {\n            burger.classList.toggle('active');\n            nav.classList.toggle('active');\n            document.body.classList.toggle('no-scroll');\n        });\n    }\n\n    navLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            burger.classList.remove('active');\n            nav.classList.remove('active');\n            document.body.classList.remove('no-scroll');\n        });\n    });\n\n    // --- HERO АНИМАЦИЯ ---\n    const heroTitle = new SplitType('#hero-title', { types: 'words, chars', tagName: 'span' });\n    const heroTl = gsap.timeline({ defaults: { ease: 'power4.out' } });\n    \n    heroTl.from('.hero__badge', { y: -20, opacity: 0, duration: 1, delay: 0.5 })\n          .from(heroTitle.chars, { y: 40, opacity: 0, rotateX: -90, stagger: 0.02, duration: 0.8 }, \"-=0.6\")\n          .from('.hero__subtitle', { y: 20, opacity: 0, duration: 0.7 }, \"-=0.4\")\n          .from('.hero__actions', { y: 20, opacity: 0, duration: 0.7 }, \"-=0.5\")\n          .from('.hero__visual', { scale: 0.9, opacity: 0, duration: 1 }, \"-=0.8\");\n\n    // --- ИСПРАВЛЕННАЯ ФУНКЦИЯ ПОЯВЛЕНИЯ (Once: true) ---\n    const revealOnScroll = (selector, x = 0, y = 50) => {\n        const items = gsap.utils.toArray(selector);\n        \n        items.forEach((item) => {\n            // Начальное состояние\n            gsap.set(item, { opacity: 0, x: x, y: y });\n\n            gsap.to(item, {\n                scrollTrigger: {\n                    trigger: item,\n                    start: 'top 90%', \n                    once: true, // Анимация проиграется только один раз\n                    toggleActions: 'play none none none'\n                },\n                opacity: 1,\n                x: 0,\n                y: 0,\n                duration: 0.8,\n                ease: 'power2.out'\n            });\n        });\n    };\n\n    // Запускаем анимации (теперь они не будут пропадать)\n    revealOnScroll('.info-card', 0, 40);\n    revealOnScroll('.benefit-item', 0, 40);\n    revealOnScroll('.innov-card', -30, 0);\n    revealOnScroll('.roadmap__item', 0, 40); \n    revealOnScroll('.contact__form-wrapper', 0, 40);\n\n    // --- КУКИ И ФОРМА ---\n    const cookiePopup = document.getElementById('cookie-popup');\n    const cookieBtn = document.getElementById('cookie-accept');\n    if (cookiePopup && !localStorage.getItem('vortex_cookies')) {\n        setTimeout(() => cookiePopup.classList.add('active'), 2500);\n    }\n    if (cookieBtn) {\n        cookieBtn.addEventListener('click', () => {\n            localStorage.setItem('vortex_cookies', 'true');\n            cookiePopup.classList.remove('active');\n        });\n    }\n\n    const phoneInput = document.getElementById('phone-input');\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => e.target.value = e.target.value.replace(/[^0-9]/g, ''));\n    }\n\n    const captchaQ = document.getElementById('captcha-question');\n    if (captchaQ) {\n        const n1 = Math.floor(Math.random() * 9) + 1;\n        const n2 = Math.floor(Math.random() * 9) + 1;\n        window.cRes = n1 + n2;\n        captchaQ.innerText = `${n1} + ${n2}`;\n    }\n\n    const contactForm = document.getElementById('contact-form');\n    if (contactForm) {\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n            const userAns = document.getElementById('captcha-answer').value;\n            if (parseInt(userAns) !== window.cRes) return alert('Ошибка в примере');\n            contactForm.querySelector('button').innerText = 'Отправка...';\n            setTimeout(() => {\n                document.getElementById('success-msg').style.display = 'flex';\n                gsap.from('#success-msg', { opacity: 0, scale: 0.9, duration: 0.5 });\n            }, 1000);\n        });\n    }\n\n    // --- HEADER ---\n    window.addEventListener('scroll', () => {\n        const header = document.querySelector('.header');\n        if (header) {\n            header.style.backgroundColor = window.scrollY > 50 ? 'rgba(45, 62, 80, 0.98)' : 'transparent';\n            header.style.padding = window.scrollY > 50 ? '12px 0' : '20px 0';\n        }\n    });\n\n    // Рефреш для точности после загрузки всех картинок\n    window.addEventListener('load', () => {\n        ScrollTrigger.refresh();\n    });\n});"],"names":["lenis","raf","time","burger","nav","navLinks","link","heroTitle","revealOnScroll","selector","x","item","cookiePopup","cookieBtn","phoneInput","e","captchaQ","n1","n2","contactForm","userAns","header"],"mappings":"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"}